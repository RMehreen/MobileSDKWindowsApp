<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { }.OH_footer { }</style><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Video Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="Video class" /><meta name="System.Keywords" content="Citrix.Cmp.Video class" /><meta name="System.Keywords" content="Video class, about Video class" /><meta name="Microsoft.Help.F1" content="Citrix.Cmp.Video" /><meta name="Microsoft.Help.Id" content="T:Citrix.Cmp.Video" /><meta name="Description" content="The video class allows you to record video clips using the microphone and camera of the client device. It triggers a local video capture app to popup on the client so the user can record a video." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Citrix.Cmp" /><meta name="file" content="0252bb37-6c6e-030a-d229-66c915a02904" /><meta name="guid" content="0252bb37-6c6e-030a-d229-66c915a02904" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="OH_outerDiv"><div class="OH_outerContent"><table class="TitleTable"><tr><td class="OH_tdTitleColumn">Video Class</td><td class="OH_tdRunningTitleColumn">Citrix Mobility Pack .NET SDK</td></tr></table><div id="mainSection"><div id="mainBody"><span class="introStyle"></span> <div class="summary">
            The video class allows you to record video clips using the microphone and camera of the
            client device. It triggers a local video capture app to popup on the client so the user
            can record a video. Once the user captures a video and exits the video capture app,
            the SDK will complete the video capture operation and provide you with the resulting
            video clip. The recording is stored on the local storage of the device and be copied off
            the device using standard file access APIs since the HDX drive mapping feature presents
            the client drive as a network drive on the Citrix server.
            </div><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Inheritance Hierarchy</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="LSTEE8C2A08_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE8C2A08_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <span class="selflink">Citrix.Cmp<span id="LSTEE8C2A08_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE8C2A08_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Video</span><br /><p> </p>
    <strong>Namespace:</strong> 
   <a href="a096d640-bd1d-22e3-e658-15c131622f2c.htm">Citrix.Cmp</a><br />
    <strong>Assembly:</strong>
   Citrix.CMP (in Citrix.CMP.dll) Version: 2.0.0.0 (7.12.0.10009)<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeft" id="ID0EDCA_tabimgleft"> </div><div id="ID0EDCA_tab1" class="OH_CodeSnippetContainerTabFirst"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cs','1','4');return false;">C#</a></div><div id="ID0EDCA_tab2" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','vb','2','4');return false;">VB</a></div><div id="ID0EDCA_tab3" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cpp','3','4');return false;">C++</a></div><div id="ID0EDCA_tab4" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','fs','4','4');return false;">F#</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID0EDCA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EDCA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EDCA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">Video</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID0EDCA_code_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">Video</span>
	<span class="keyword">Implements</span> <span class="identifier">IDisposable</span></pre></div><div id="ID0EDCA_code_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">Video</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID0EDCA_code_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">type</span> <span class="identifier">Video</span> =  
    <span class="keyword">class</span>
        <span class="keyword">interface</span> <span class="identifier">IDisposable</span>
    <span class="keyword">end</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EDCA");</script><p>The <span class="selflink">Video</span> type exposes the following members.</p><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Properties</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><table class="members" id="propertyList"><tr><th class="ps_iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="a94bb6d1-997b-b39a-2bc3-ce06da727f02.htm">CanCaptureVideo</a></td><td><div class="summary">
            This property reports whether the currently connected client supports capturing
            video clips.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="e69b950a-6db9-5092-3a41-9fddbb276f31.htm">CanLimitDuration</a></td><td><div class="summary">
            Reports whether the client supports the capability to limit the duration of an
            video capture operation.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="64b69989-2c14-f0c7-458a-9c89096affd8.htm">CanSetDefaultCamera</a></td><td><div class="summary">
            Reports whether the client supports the capability to set the starting camera that
            will be used to capture the video. If the starting camera can be set, it doesn't
            prevent the user from swapping to a different camera.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="7d06b54e-6f88-74c6-7ca3-3ac29727fcde.htm">CanSetQuality</a></td><td><div class="summary">
            Reports whether the client supports the capability to set a custom video quality for
            the capture operation.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="6c591e16-702a-f8df-6f37-4ddabc548262.htm">CanSetResolution</a></td><td><div class="summary">
            Reports whether the client supports the capability to use a custom resolution for
            the video capture operation.
            </div></td></tr></table><a href="#mainBody">Top</a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Methods</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><table class="members" id="methodList"><tr><th class="ps_iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="06d8ea25-d56c-c037-0652-4131ff0abcdb.htm">BeginCaptureVideo</a></td><td><div class="summary">
            Initiates an async request to capture an video clip. This will bring up a native
            video recording app on the device. The async operation will complete when the user
            finishes recording or the supplied timeout occurs. Call <a href="799d8dbc-ea49-151b-19a7-ec39a848b253.htm">EndCaptureVideo(IAsyncResult)</a>
            to get the result of the operation.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="fe18aa53-28e2-eb9a-e97f-a133fcb693ed.htm">BeginRemoveVideoClip</a></td><td><div class="summary">
            Initiates an async operation to remove the specified video clip from the local
            storage of the client device. Video clips are stored on the client device in the
            private application data store for the Citrix Receiver. To avoid wasting space on
            your users' devices you should remove clips once you have copied them off the
            client. If you do not explicitly remove clips then they will get automatically
            deleted off the device 24hrs after they were created.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="75a9380c-6255-6212-ebb3-b8cd13377d02.htm">CaptureVideo</a></td><td><div class="summary">
            Performs a synchronous operation to capture a video clip. Since this operation can
            take a long time to complete, calling this synchronous version of the API is not
            recommended. Instead you should use the async version <a href="06d8ea25-d56c-c037-0652-4131ff0abcdb.htm">BeginCaptureVideo(VideoCaptureOptions, TimeSpan, Action<span id="LSTEE8C2A08_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE8C2A08_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>IAsyncResult<span id="LSTEE8C2A08_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE8C2A08_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>)</a>
            so you are not blocked while the operation is in progress.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="c2047931-9c72-292d-7d1c-99eabcbc98d9.htm">Dispose</a></td><td><div class="summary">
            Dipose handler.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="799d8dbc-ea49-151b-19a7-ec39a848b253.htm">EndCaptureVideo</a></td><td><div class="summary">
            Completes an async capture video request and returns the resulting video clip if the
            operation was successful.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="514fabe1-a61e-4517-449f-d8b08ecd449a.htm">EndRemoveVideoClip</a></td><td><div class="summary">
            Completes an async request to remove an video clip from the connected client device.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/bsc2ak47" target="_blank">Equals</a></td><td><div class="summary">Determines whether the specified object is equal to the current object.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="c7fb41e2-cd2b-9848-cefc-23e634f285dc.htm">Finalize</a></td><td><div class="summary">
            Finalizer.
            </div> (Overrides <a href="http://msdn2.microsoft.com/en-us/library/4k87zsw7" target="_blank">Object<span id="LSTEE8C2A08_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE8C2A08_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Finalize<span id="LSTEE8C2A08_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTEE8C2A08_5?cs=()|vb=|cpp=()|nu=()|fs=()");</script></a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/zdee4b3y" target="_blank">GetHashCode</a></td><td><div class="summary">Serves as a hash function for a particular type. </div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/dfwy45w9" target="_blank">GetType</a></td><td><div class="summary">Gets the <a href="http://msdn2.microsoft.com/en-us/library/42892f65" target="_blank">Type</a> of the current instance.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="227c3027-72c3-4943-7d05-8662c51118f3.htm">IsVideoEncodingSupported</a></td><td><div class="summary">
            Use this function to test whether the specified video encoding algorithm is
            supported by the currently connected client.
            </div></td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/57ctke0a" target="_blank">MemberwiseClone</a></td><td><div class="summary">Creates a shallow copy of the current <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f1598859-f0ee-3c07-d479-e370b341f09e.htm">RemoveVideoClip</a></td><td><div class="summary">
            Removes the specified video clip from the local storage of the client device. Video
            clips are stored on the client device in the private application data store for the
            Citrix Receiver. To avoid wasting space on your users' devices you should remove
            clips once you have copied them off the client. If you do not explicitly remove
            clips then they will get automatically deleted off the device 24hrs after they were
            created.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/7bxwbwt2" target="_blank">ToString</a></td><td><div class="summary">Returns a string that represents the current object.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr></table><a href="#mainBody">Top</a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Remarks</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div>
            Capture video requests will usually take a long time to return since you have to wait
            until the user finishes (or the request times out). So you should avoid using the
            synchronous version of the API since in this situation, as your UI will be frozen until
            the timeout occurs.
            <div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Examples</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div>
            The following sample shows how you can capture video and copy the clip off the
            client device to the local Citrix server your app is running on.
            <div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EAAABA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve">CmpApi cmpApi = <span class="highlight-keyword">new</span> CmpApi();
VideoOptions options = <span class="highlight-keyword">new</span> VideoOptions();
cmpApi.Video.BeginCaptureVideo(options, TimeSpan.FromSeconds(<span class="highlight-number">60</span>), ar =&gt;
{
    <span class="highlight-keyword">try</span>
    {
        <span class="highlight-keyword">var</span> clip = cmpApi.Video.EndCaptureVideo(ar);

        <span class="highlight-comment">// Copies the clip off the client device to the Citrix server your app</span>
        <span class="highlight-comment">// is running on. You should always copy the clip to Citrix server since</span>
        <span class="highlight-comment">// accessing the picture over a wireless network to the client device can</span>
        <span class="highlight-comment">// be slow. Note that we are performing the copy in a worker thread since</span>
        <span class="highlight-comment">// the operation can take a long time to complete and we don't want the UI</span>
        <span class="highlight-comment">// thread to block while we are doing this.</span>
        ThreadPool.QueueUserWorkItem(workItem =&gt;
            {
                <span class="highlight-keyword">var</span> tempFileName = clip.CopyFileToTemp();
            });
    }
    <span class="highlight-keyword">catch</span> (CmpException ex)
    {
    }
    <span class="highlight-keyword">catch</span> (NotSupportedException ex)
    {
    }
    <span class="highlight-keyword">catch</span> (TimeoutException ex)
    {
    }
});</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABA");</script><div class="OH_CollapsibleAreaRegion" id="seeAlsoSection"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="a096d640-bd1d-22e3-e658-15c131622f2c.htm">Citrix.Cmp Namespace</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"> </div></body></html>