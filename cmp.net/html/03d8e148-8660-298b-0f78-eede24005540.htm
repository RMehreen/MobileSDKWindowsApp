<html><head><meta http-equiv="X-UA-Compatible" content="IE=edge" /><link rel="shortcut icon" href="../icons/favicon.ico" /><style type="text/css">.OH_CodeSnippetContainerTabLeftActive, .OH_CodeSnippetContainerTabLeft,.OH_CodeSnippetContainerTabLeftDisabled { }.OH_CodeSnippetContainerTabRightActive, .OH_CodeSnippetContainerTabRight,.OH_CodeSnippetContainerTabRightDisabled { }.OH_footer { }</style><link rel="stylesheet" type="text/css" href="../styles/branding.css" /><link rel="stylesheet" type="text/css" href="../styles/branding-en-US.css" /><script type="text/javascript" src="../scripts/branding.js"> </script><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><title>Audio Class</title><meta name="Language" content="en-us" /><meta name="System.Keywords" content="Audio class" /><meta name="System.Keywords" content="Citrix.Cmp.Audio class" /><meta name="System.Keywords" content="Audio class, about Audio class" /><meta name="Microsoft.Help.F1" content="Citrix.Cmp.Audio" /><meta name="Microsoft.Help.Id" content="T:Citrix.Cmp.Audio" /><meta name="Description" content="The audio class allows you to record audio clips using the microphone of the client device. It triggers a local audio capture app to popup on the client so the user can record an audio clip." /><meta name="Microsoft.Help.ContentType" content="Reference" /><meta name="BrandingAware" content="true" /><meta name="container" content="Citrix.Cmp" /><meta name="file" content="03d8e148-8660-298b-0f78-eede24005540" /><meta name="guid" content="03d8e148-8660-298b-0f78-eede24005540" /><link type="text/css" rel="stylesheet" href="../styles/highlight.css" /><script type="text/javascript" src="../scripts/highlight.js"> </script><script type="text/javascript" src="../scripts/clipboard.min.js"></script></head><body onload="OnLoad('cs')"><input type="hidden" id="userDataCache" class="userDataStyle" /><div class="OH_outerDiv"><div class="OH_outerContent"><table class="TitleTable"><tr><td class="OH_tdTitleColumn">Audio Class</td><td class="OH_tdRunningTitleColumn">Citrix Mobility Pack .NET SDK</td></tr></table><div id="mainSection"><div id="mainBody"><span class="introStyle"></span> <div class="summary">
            The audio class allows you to record audio clips using the microphone of the client
            device. It triggers a local audio capture app to popup on the client so the user can
            record an audio clip. Once the user captures an audio clip and exits the audio capture
            app the SDK will complete the audio capture operation and provide you with the resulting
            audio clip. The recording is stored on the local storage of the device and be copied off
            the device using standard file access APIs since the HDX drive mapping feature presents
            the client drive as a network drive on the Citrix server.
            </div><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Inheritance Hierarchy</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">System<span id="LSTD28EFF77_0"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD28EFF77_0?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Object</a><br />  <span class="selflink">Citrix.Cmp<span id="LSTD28EFF77_1"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD28EFF77_1?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Audio</span><br /><p> </p>
    <strong>Namespace:</strong> 
   <a href="a096d640-bd1d-22e3-e658-15c131622f2c.htm">Citrix.Cmp</a><br />
    <strong>Assembly:</strong>
   Citrix.CMP (in Citrix.CMP.dll) Version: 2.0.0.0 (7.12.0.10009)<div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Syntax</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerTabs"><div class="OH_CodeSnippetContainerTabLeft" id="ID0EDCA_tabimgleft"> </div><div id="ID0EDCA_tab1" class="OH_CodeSnippetContainerTabFirst"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cs','1','4');return false;">C#</a></div><div id="ID0EDCA_tab2" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','vb','2','4');return false;">VB</a></div><div id="ID0EDCA_tab3" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','cpp','3','4');return false;">C++</a></div><div id="ID0EDCA_tab4" class="OH_CodeSnippetContainerTab"><a href="#" onclick="javascript:ChangeTab('ID0EDCA','fs','4','4');return false;">F#</a></div><div class="OH_CodeSnippetContainerTabRight" id="ID0EDCA_tabimgright"> </div></div><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EDCA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EDCA');return false;" title="Copy">Copy</a></div></div><div id="ID0EDCA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">class</span> <span class="identifier">Audio</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID0EDCA_code_Div2" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">Public</span> <span class="keyword">Class</span> <span class="identifier">Audio</span>
	<span class="keyword">Implements</span> <span class="identifier">IDisposable</span></pre></div><div id="ID0EDCA_code_Div3" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">public</span> <span class="keyword">ref class</span> <span class="identifier">Audio</span> : <span class="identifier">IDisposable</span></pre></div><div id="ID0EDCA_code_Div4" class="OH_CodeSnippetContainerCode" style="display: none"><pre xml:space="preserve"><span class="keyword">type</span> <span class="identifier">Audio</span> =  
    <span class="keyword">class</span>
        <span class="keyword">interface</span> <span class="identifier">IDisposable</span>
    <span class="keyword">end</span></pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EDCA");</script><p>The <span class="selflink">Audio</span> type exposes the following members.</p><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Properties</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><table class="members" id="propertyList"><tr><th class="ps_iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="91d91ca7-5172-28b5-f696-c4957e83800a.htm">CanCaptureAudio</a></td><td><div class="summary">
            This property reports whether the currently connected client supports capturing
            audio clips.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="9929d669-f1fe-4ab7-249b-6193e33d2734.htm">CanLimitDuration</a></td><td><div class="summary">
            Reports whether the client supports the capability to limit the duration of an
            audio capture operation.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubproperty.gif" alt="Public property" title="Public property" /></td><td><a href="c75e9eef-c448-24aa-a865-72ece3a17f29.htm">CanSetQuality</a></td><td><div class="summary">
            Reports whether the client supports the capability to set a custom audio quality for
            the capture operation.
            </div></td></tr></table><a href="#mainBody">Top</a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Methods</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><table class="members" id="methodList"><tr><th class="ps_iconColumn">
								 
							</th><th>Name</th><th>Description</th></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="819edcce-2dd7-5db1-a29f-9270e1bd5c03.htm">BeginCaptureAudio</a></td><td><div class="summary">
            Initiates an async request to capture an audio clip. This will bring up a native
            audio recording app on the device. The async operation will complete when the user
            finishes recording or the supplied timeout occurs. Call <a href="156e6429-4541-0b06-23da-e1396d059909.htm">EndCaptureAudio(IAsyncResult)</a>
            to get the result of the operation.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="b54de4a5-c95c-b624-3a79-5e268e4bbc9b.htm">BeginRemoveAudioClip</a></td><td><div class="summary">
            Initiates an async operation to remove the specified audio clip from the local
            storage of the client device. Audio clips are stored on the client device in the
            private application data store for the Citrix Receiver. To avoid wasting space on
            your users' devices you should remove clips once you have copied them off the
            client. If you do not explicitly remove clips then they will get automatically
            deleted off the device 24hrs after they were created.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="a46b871d-3b64-09e6-4f93-d333264cd212.htm">CaptureAudio</a></td><td><div class="summary">
            Performs a synchronous operation to capture an audio clip. Since this operation can
            take a long time to complete, calling this synchronous version of the API is not
            recommended. Instead you should use the async version <a href="819edcce-2dd7-5db1-a29f-9270e1bd5c03.htm">BeginCaptureAudio(AudioCaptureOptions, TimeSpan, Action<span id="LSTD28EFF77_2"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD28EFF77_2?cs=&lt;|vb=(Of |cpp=&lt;|fs=&lt;'|nu=(");</script>IAsyncResult<span id="LSTD28EFF77_3"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD28EFF77_3?cs=&gt;|vb=)|cpp=&gt;|fs=&gt;|nu=)");</script>)</a>
            so you are not blocked while the operation is in progress.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="126d3da7-4f6c-7728-d06d-4b5d1d62efe9.htm">Dispose</a></td><td><div class="summary">
            Dipose handler.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="156e6429-4541-0b06-23da-e1396d059909.htm">EndCaptureAudio</a></td><td><div class="summary">
            Completes an async capture audio request and returns the resulting audio clip if the
            operation was successful.
            </div></td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f2c86dca-ef22-646c-c9df-777cdc984b4d.htm">EndRemoveAudioClip</a></td><td><div class="summary">
            Completes an async request to remove an audio clip from the connected client device.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/bsc2ak47" target="_blank">Equals</a></td><td><div class="summary">Determines whether the specified object is equal to the current object.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="protected;declared;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="67abd1b9-f0b2-713f-f649-eacb45f270e1.htm">Finalize</a></td><td><div class="summary">
            Finalizer.
            </div> (Overrides <a href="http://msdn2.microsoft.com/en-us/library/4k87zsw7" target="_blank">Object<span id="LSTD28EFF77_4"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD28EFF77_4?cs=.|vb=.|cpp=::|nu=.|fs=.");</script>Finalize<span id="LSTD28EFF77_5"></span><script type="text/javascript">AddLanguageSpecificTextSet("LSTD28EFF77_5?cs=()|vb=|cpp=()|nu=()|fs=()");</script></a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/zdee4b3y" target="_blank">GetHashCode</a></td><td><div class="summary">Serves as a hash function for a particular type. </div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/dfwy45w9" target="_blank">GetType</a></td><td><div class="summary">Gets the <a href="http://msdn2.microsoft.com/en-us/library/42892f65" target="_blank">Type</a> of the current instance.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="f0b668ca-ced0-cb60-8d4b-2e8a070e30a1.htm">IsAudioEncodingSupported</a></td><td><div class="summary">
            Use this function to test whether the specified audio encoding algorithm is
            supported by the currently connected client.
            </div></td></tr><tr data="protected;inherited;notNetfw;"><td><img src="../icons/protmethod.gif" alt="Protected method" title="Protected method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/57ctke0a" target="_blank">MemberwiseClone</a></td><td><div class="summary">Creates a shallow copy of the current <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr><tr data="public;declared;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="edc53cb2-c330-3bbe-8ec3-725ef67c56c6.htm">RemoveAudioClip</a></td><td><div class="summary">
            Removes the specified audio clip from the local storage of the client device. Audio
            clips are stored on the client device in the private application data store for the
            Citrix Receiver. To avoid wasting space on your users' devices you should remove
            clips once you have copied them off the client. If you do not explicitly remove
            clips then they will get automatically deleted off the device 24hrs after they were
            created.
            </div></td></tr><tr data="public;inherited;notNetfw;"><td><img src="../icons/pubmethod.gif" alt="Public method" title="Public method" /></td><td><a href="http://msdn2.microsoft.com/en-us/library/7bxwbwt2" target="_blank">ToString</a></td><td><div class="summary">Returns a string that represents the current object.</div> (Inherited from <a href="http://msdn2.microsoft.com/en-us/library/e5kfa45b" target="_blank">Object</a>.)</td></tr></table><a href="#mainBody">Top</a><div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Remarks</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div>
            Capture audio requests will usually take a long time to return since you have to wait
            until the user finishes (or the request times out). So you should avoid using the
            synchronous version of the API since in this situation, as your UI will be frozen until
            the timeout occurs.
            <div class="OH_CollapsibleAreaRegion"><div class="OH_regiontitle">Examples</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div>
            The following sample shows how you can capture audio and copy the clip off the
            client device to the local Citrix server your app is running on.
            <div class="OH_CodeSnippetContainer"><div class="OH_CodeSnippetContainerCodeCollection"><div class="OH_CodeSnippetToolBar"><div class="OH_CodeSnippetToolBarText"><a id="ID0EAAABA_copyCode" href="#" class="OH_copyCodeSnippet" onclick="javascript:CopyToClipboard('ID0EAAABA');return false;" title="Copy">Copy</a></div></div><div id="ID0EAAABA_code_Div1" class="OH_CodeSnippetContainerCode" style="display: block"><pre xml:space="preserve">CmpApi cmpApi = <span class="highlight-keyword">new</span> CmpApi();
AudioOptions options = <span class="highlight-keyword">new</span> AudioOptions();
cmpApi.Audio.BeginCaptureAudio(options, TimeSpan.FromSeconds(<span class="highlight-number">60</span>), ar =&gt;
{
    <span class="highlight-keyword">try</span>
    {
        <span class="highlight-keyword">var</span> clip = cmpApi.Audio.EndCaptureAudio(ar);

        <span class="highlight-comment">// Copies the clip off the client device to the Citrix server your app</span>
        <span class="highlight-comment">// is running on. You should always copy the clip to Citrix server since</span>
        <span class="highlight-comment">// accessing the picture over a wireless network to the client device can</span>
        <span class="highlight-comment">// be slow. Note that we are performing the copy in a worker thread since</span>
        <span class="highlight-comment">// the operation can take a long time to complete and we don't want the UI</span>
        <span class="highlight-comment">// thread to block while we are doing this.</span>
        ThreadPool.QueueUserWorkItem(workItem =&gt;
            {
                <span class="highlight-keyword">var</span> tempFileName = clip.CopyFileToTemp();
            });
    }
    <span class="highlight-keyword">catch</span> (CmpException ex)
    {
    }
    <span class="highlight-keyword">catch</span> (NotSupportedException ex)
    {
    }
    <span class="highlight-keyword">catch</span> (TimeoutException ex)
    {
    }
});</pre></div></div></div><script type="text/javascript">AddLanguageTabSet("ID0EAAABA");</script><div class="OH_CollapsibleAreaRegion" id="seeAlsoSection"><div class="OH_regiontitle">See Also</div><div class="OH_CollapsibleArea_HrDiv"><hr class="OH_CollapsibleArea_Hr" /></div></div><div class="OH_clear"> </div><h4 class="subHeading">Reference</h4><div class="seeAlsoStyle"><a href="a096d640-bd1d-22e3-e658-15c131622f2c.htm">Citrix.Cmp Namespace</a></div></div></div></div></div><div id="OH_footer" class="OH_footer"> </div></body></html>